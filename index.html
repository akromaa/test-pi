<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test App Pi Network</title>
    <script src="https://sdk.minepi.com/pi-sdk.js"></script>
    <script>
        Pi.init({ version: "2.0", sandbox: true });

        const scopes = ['payments', 'username'];

        function onIncompletePaymentFound(payment) {
            console.log('incomplete payment found', payment);
        }

        Pi.authenticate(scopes, onIncompletePaymentFound)
            .then(auth => {
                console.log("Authenticated", auth);
                document.getElementById("status").textContent = `ConnectÃ© : ${auth.user.username}`;
            })
            .catch(error => {
                console.error("Erreur d'authentification", error);
            });
    </script>
</head>
<body>
    <h1>Bienvenue dans mon test Pi App</h1>
    <p id="status">En attente de connexion...</p>
</body>
</html>
